# CORS and JSON content type configuration for Rabit burrows

# Enable CORS for all origins (adjust for production)
add_header 'Access-Control-Allow-Origin' '*' always;
add_header 'Access-Control-Allow-Methods' 'GET, OPTIONS' always;
add_header 'Access-Control-Allow-Headers' 'Origin, Content-Type, Accept' always;

# Serve .burrow.json and .warren.json with correct content type
location ~ \.(burrow|warren)\.json$ {
    default_type application/json;
    add_header 'Access-Control-Allow-Origin' '*' always;
    add_header 'Content-Type' 'application/json; charset=utf-8' always;
}

# Serve .warren.md with correct content type
location ~ \.warren\.md$ {
    default_type text/markdown;
    add_header 'Access-Control-Allow-Origin' '*' always;
    add_header 'Content-Type' 'text/markdown; charset=utf-8' always;
}
